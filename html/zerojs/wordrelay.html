<!DOCTYPE html>
<html lang="KO">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>끝말잇기</title>
</head>
<body>
    <div><span id="order">1</span>번째 참가자</div>
    <div>제시어: <span id="word"></span></div>
    <input type="text">
    <button>입력</button>
    <!-- <button>버튼2</button>
    <button>버튼3</button> -->
    <script>
    //    const number = parseInt( prompt('몇명이 참가하나요?'), 10);
    //    alert(number);
    //    confirm('확인이나 취소를 선택해주세요!')
       const number = Number(prompt('몇명이 참가하나요?'));
       const $input = document.querySelector('input')
    //   console.log($input);
       const $button = document.querySelectorAll('button')
    //   console.log($button); 
    //    document.querySelector('input').addEventListener('input',function(){
    //        console.log("input text");
    //    })
    //    document.querySelector('input').addEventListener('input', (event) => {
    //     console.log(event.target.value);  //입력한 값이 바로바로 콘솔로 보이기 위해 event를 사용!!
    //     console.log(event.target) 
    //     })
    //    document.querySelector('button').addEventListener('click',function(){
    //        console.log("click button!!")
    //    })
    let word;  //제시어
    let newWord;  //새로 입력한 단어
    const $word = document.querySelector('#word');
    const $order = document.querySelector('#order');
    const onClickButton = () => {
        if(!word){ //제시어가 비어있는가?
          word = newWord;  //data를 넣어준것만 됨.
          $word.textContent = word;  //화면에 나타나도록 지정해주는것!! 
          $input.value = ''; //기존의 input에 단어가 남아있지않도록 비워준다!!         
          const order = Number($order.textContent); //현재 순서
          if(order+1 > number){
             $order.textContent = 1;
          } 
          else{
             $order.textContent = order + 1;
          }      
        }
        else{ //제시어가 있는경우
          if( word[word.length-1] === newWord[0]){ //올바른가
            word = newWord;  //data를 넣어준것만 됨.
            $word.textContent = word;  //화면에 나타나도록 지정해주는것!! 
            $input.value = ''; //기존의 input에 단어가 남아있지않도록 비워준다!!  
            const order = Number($order.textContent);
            if(order+1 > number){
             $order.textContent = 1;
            } 
            else{
              $order.textContent = order + 1;
            }      
          }
          else{ //올바르지 않은가
            
          }
        }
       
    };
    const onInput = () => {
      newWord = event.target.value;
      console.log(newWord)
    };

    document.querySelector('button').addEventListener('click',onClickButton);
    document.querySelector('input').addEventListener('input',onInput);
    </script>
</body>
</html>

